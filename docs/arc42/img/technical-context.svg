<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 700">
  <defs>
    <style>
      .frontend { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; }
      .backend { fill: #f3e5f5; stroke: #7b1fa2; stroke-width: 2; }
      .database { fill: #e8f5e8; stroke: #2e7d32; stroke-width: 2; }
      .external { fill: #fff3e0; stroke: #ef6c00; stroke-width: 2; }
      .client { fill: #fce4ec; stroke: #c2185b; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; }
      .title { font-family: Arial, sans-serif; font-size: 13px; font-weight: bold; text-anchor: middle; }
      .protocol { font-family: Arial, sans-serif; font-size: 9px; text-anchor: middle; fill: #666; }
      .flow { stroke: #424242; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .bidirectional { stroke: #424242; stroke-width: 2; fill: none; marker-end: url(#arrowhead); marker-start: url(#arrowhead); }
      .websocket { stroke: #d32f2f; stroke-width: 2; fill: none; marker-end: url(#arrowhead); stroke-dasharray: 5,5; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#424242" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="450" y="30" class="title" font-size="18">Technical Context Diagram</text>
  
  <!-- Frontend Applications -->
  <rect x="50" y="80" width="140" height="80" rx="8" class="frontend"/>
  <text x="120" y="110" class="title">Admin View</text>
  <text x="120" y="125" class="text">Angular 19</text>
  <text x="120" y="140" class="text">Port 4201</text>
  
  <rect x="50" y="180" width="140" height="80" rx="8" class="frontend"/>
  <text x="120" y="210" class="title">Result View</text>
  <text x="120" y="225" class="text">Angular 19</text>
  <text x="120" y="240" class="text">Port 4202</text>
  
  <rect x="50" y="280" width="140" height="80" rx="8" class="frontend"/>
  <text x="120" y="310" class="title">Table Manager</text>
  <text x="120" y="325" class="text">Angular 19</text>
  <text x="120" y="340" class="text">Default Port</text>
  
  <!-- Backend -->
  <rect x="350" y="180" width="200" height="120" rx="10" class="backend"/>
  <text x="450" y="210" class="title">Backend</text>
  <text x="450" y="230" class="text">Scala Play Framework 2.9</text>
  <text x="450" y="245" class="text">Pekko Actors</text>
  <text x="450" y="260" class="text">WebSocket Support</text>
  <text x="450" y="275" class="text">PDF Generation</text>
  
  <!-- Database -->
  <rect x="400" y="380" width="100" height="80" rx="8" class="database"/>
  <text x="450" y="410" class="title">MariaDB</text>
  <text x="450" y="425" class="text">MySQL</text>
  <text x="450" y="440" class="text">Database</text>
  
  <!-- MKTT External -->
  <rect x="680" y="320" width="140" height="100" rx="8" class="external"/>
  <text x="750" y="350" class="title">MKTT</text>
  <text x="750" y="365" class="text">Fat Client</text>
  <text x="750" y="380" class="text">3rd Party</text>
  <text x="750" y="395" class="text">Application</text>
  
  <!-- Click-TT External -->
  <rect x="680" y="80" width="140" height="80" rx="8" class="external"/>
  <text x="750" y="110" class="title">Click-TT</text>
  <text x="750" y="125" class="text">Web Program</text>
  <text x="750" y="140" class="text">XML Interface</text>
  
  <!-- Client Devices -->
  <rect x="50" y="480" width="140" height="60" rx="8" class="client"/>
  <text x="120" y="505" class="title">Web Browsers</text>
  <text x="120" y="520" class="text">Chrome, Firefox, Safari</text>
  
  <!-- HTTP Connections from Frontend to Backend -->
  <line x1="190" y1="120" x2="350" y2="210" class="flow"/>
  <text x="270" y="160" class="protocol">HTTP/REST</text>
  
  <line x1="190" y1="220" x2="350" y2="230" class="flow"/>
  <text x="270" y="225" class="protocol">HTTP/REST</text>
  
  <line x1="190" y1="320" x2="350" y2="270" class="flow"/>
  <text x="270" y="295" class="protocol">HTTP/REST</text>
  
  <!-- WebSocket Connections -->
  <line x1="190" y1="140" x2="350" y2="250" class="websocket"/>
  <text x="250" y="185" class="protocol">WebSocket</text>
  
  <line x1="190" y1="240" x2="350" y2="260" class="websocket"/>
  <text x="250" y="250" class="protocol">WebSocket</text>
  
  <line x1="190" y1="340" x2="350" y2="280" class="websocket"/>
  <text x="250" y="315" class="protocol">WebSocket</text>
  
  <!-- Backend to Database -->
  <line x1="450" y1="300" x2="450" y2="380" class="bidirectional"/>
  <text x="470" y="340" class="protocol">JDBC</text>
  <text x="470" y="355" class="protocol">Slick ORM</text>
  
  <!-- MKTT to Database -->
  <line x1="680" y1="390" x2="500" y2="420" class="bidirectional"/>
  <text x="590" y="400" class="protocol">Direct JDBC</text>
  <text x="590" y="415" class="protocol">Shared Schema</text>
  
  <!-- Backend to Click-TT -->
  <line x1="550" y1="200" x2="680" y2="130" class="flow"/>
  <text x="615" y="160" class="protocol">XML Export</text>
  <text x="615" y="175" class="protocol">HTTP POST</text>
  
  <!-- Browser to Frontend -->
  <line x1="120" y1="480" x2="120" y2="360" class="flow"/>
  <text x="140" y="420" class="protocol">HTTPS</text>
  
  <!-- Technology Stack Labels -->
  <rect x="50" y="580" width="800" height="100" rx="5" fill="#f5f5f5" stroke="#ddd"/>
  <text x="60" y="600" class="title" text-anchor="start">Technology Stack:</text>
  <text x="60" y="620" class="text" text-anchor="start">Frontend: Angular 19, TypeScript 5.8, ngrx 19, Angular Material 19, Bootstrap 5</text>
  <text x="60" y="635" class="text" text-anchor="start">Backend: Scala 2.13, Play Framework 2.9, Pekko Actors, Slick ORM</text>
  <text x="60" y="650" class="text" text-anchor="start">Database: MariaDB/MySQL, JDBC</text>
  <text x="60" y="665" class="text" text-anchor="start">Communication: WebSockets (SockJS), REST APIs, XML</text>
</svg>