<mat-expansion-panel [expanded]="true" hideToggle>
  <mat-expansion-panel-header cdkDropList>
    <mat-panel-title cdkDrag [cdkDragData]="stage.matches">
      <mat-icon> view_list </mat-icon>
      {{ stage.name }}
    </mat-panel-title>
    <mat-panel-description>
      <a href="javascript:void(0)" class="secondary-content" (click)="deleteStage.emit(stage)">
        <mat-icon>close</mat-icon>
      </a>
      <mat-icon *ngIf="stage.isComplete">done</mat-icon>
    </mat-panel-description>
  </mat-expansion-panel-header>
  <div class="collection minus-margin" cdkDropList>
    <div
      *ngFor="let currentMatch of stage.matches"
      class="collection-item no-lines {{ lineStageClass[index % 4] }}"
      (dblclick)="resultForMatch.emit(currentMatch)"
      [class.disabled-item]="isInWaitingListOrOnTableOrCallable(currentMatch)"
      cdkDrag
      [cdkDragDisabled]="!isMatchOpen(currentMatch)"
      [cdkDragData]="[currentMatch]"
    >
      <div class="match-item-padding">
        <toma-discipline-stage-item [match]="currentMatch"></toma-discipline-stage-item>
      </div>
    </div>
  </div>
</mat-expansion-panel>
